# Leetcode 123

我想了半天关于如何记录两次交易，但最暴力的记录所有交易的可能的这个方法实际上可行性并不高。先找到利润最高的交易，再找到利润第二高的交易，这是我初步的想法。但后来很快就意识到，第一，可能一次交易就够了，其余的交易时浪费的，比如题目中给出的例子2就很好的说明了这一点；第二，利润第一和第二高的交易可能重叠，说不定最终利润之和没有利润第二高和利润第三高的利润之和。确实想不出来hh，参考了solution：https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/solutions/39615/my-explanation-for-o-n-solution/


这个题目要找两次交易，我们首先要确保，第一次买入的成本尽可能的小，然后确认卖出利润尽可能的高，这个逻辑并不复杂。那如何让第二次交易的利润尽可能的高？我们这时候要利用动态规划的思想来做。第一次卖出之后，我们即刻考虑是否买入当天的股票，作为我们第二次交易的成本价，基于第一次交易我们已经获得了利润，所以反过来保证剩余利润尽可能高即可！最后卖出的时候要注意是secondbuy + prices[i]，因为成本在secondbuy的时候就已经刨去了，卖出价格直接加上就好了。